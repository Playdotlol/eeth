<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-950 text-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CyberEmulator</title>
  <script src="https://cdn.jsdelivr.net/gh/ethanaeris/EmulatorJS@latest/loader.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="flex flex-col items-center justify-start min-h-screen p-6 space-y-4">

  <h1 class="text-4xl font-extrabold text-cyan-400 drop-shadow-md">🎮 CyberEmulator</h1>
  <p class="text-gray-400">Play retro games directly in your browser — N64, NES, SNES, GBA & more!</p>

  <div class="flex flex-col sm:flex-row items-center gap-4">
    <select id="romSelector" class="text-black px-4 py-2 rounded shadow-md">
      <option value="">🎮 Select a Game</option>
      <option value="nes:https://cdn.jsdelivr.net/gh/ethanaeris/EmulatorJS@main/roms/nes/donkeykong.nes">Donkey Kong (NES)</option>
      <option value="gb:https://cdn.jsdelivr.net/gh/ethanaeris/EmulatorJS@main/roms/gb/tetris.gb">Tetris (GB)</option>
      <option value="gba:https://cdn.jsdelivr.net/gh/ethanaeris/EmulatorJS@main/roms/gba/DrMario.gba">Dr. Mario (GBA)</option>
      <option value="snes:https://cdn.jsdelivr.net/gh/ethanaeris/EmulatorJS@main/roms/snes/dkc.smc">Donkey Kong Country (SNES)</option>
      <option value="n64:roms/super-mario-64.z64">Super Mario 64 (N64) — Upload yourself</option>
    </select>

    <button onclick="loadSelectedRom()" class="bg-cyan-500 hover:bg-cyan-600 px-5 py-2 rounded font-bold shadow-md">
      ▶️ Launch
    </button>
  </div>

  <div class="flex gap-2 flex-wrap justify-center">
    <button onclick="EJS_fullscreen()" class="bg-gray-800 hover:bg-gray-700 px-4 py-1 rounded">🖥️ Fullscreen</button>
    <button onclick="EJS_saveState()" class="bg-gray-800 hover:bg-gray-700 px-4 py-1 rounded">💾 Save</button>
    <button onclick="EJS_loadState()" class="bg-gray-800 hover:bg-gray-700 px-4 py-1 rounded">📂 Load</button>
    <button onclick="location.reload()" class="bg-red-600 hover:bg-red-700 px-4 py-1 rounded">🔄 Reset</button>
  </div>

  <div id="emulator" class="w-full max-w-5xl mt-4 border-4 border-cyan-500 rounded-xl overflow-hidden shadow-lg"></div>

  <script>
    function loadSelectedRom() {
      const value = document.getElementById('romSelector').value;
      if (!value) return alert("Please select a game.");
      const [core, path] = value.split(':');

      EJS_player = "#emulator";
      EJS_core = core;
      EJS_gameUrl = path;
      EJS_fullscreenOnLoad = false;
      EJS_gamepadSupport = true;
      EJS_multitap = false;
      EJS_lightgun = false;
      EJS_mouse = false;
      EJS_start();
    }
  </script>

  <p class="text-sm text-gray-500 mt-10">CyberEmulator uses EmulatorJS. Only public/homebrew ROMs are provided. Upload your own N64 ROMs to the <code>/roms</code> folder.</p>
</body>
</html>
